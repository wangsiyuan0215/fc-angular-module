"use strict";
/*!
 * flash-components v1.3.1
 * (c) 2018 LivingSpace.
 */
!function(l){if(!l)throw new Error("ReferenceError: please import angular.js@1.X first.");var e=l.version,t=Number(e.major)||0;if(isNaN(t))throw new Error("UnknownError: please confirm your angular.js is valid.");if(2<=t)throw new Error('VersionError: please ensure that the version of angular.js is "1.x.x" .');console.log("fc...loading"),l.module("fc.provider",[]).provider("$fc",function(){function e(t){return function(e){return{success:t,payload:e}}}function r(e,t){if(l.isUndefined(e))throw new ReferenceError("$fc: __getOption ->"+e+"in context is undefined.");return l.isUndefined(t)?e:e[t]}function s(e,t,o){if(l.isUndefined(e))throw new ReferenceError("$fc: __setOption ->"+e+"in context is undefined.");if(l.isUndefined(t))throw new ReferenceError("$fc: __setOption -> param:key is required.");e[t]=o}var a=this,t={duration:2e3},o={},c={headers:{},successCreator:e(!0),errorCreator:e(!1),timeout:5e3,withCredentials:!0};this.http={__getOptions:function(e){return r(c,e)},setOptions:function(e){c=l.merge(c,e)}},l.forEach(c,function(e,t){var o=t.slice(0,1).toUpperCase()+t.slice(1),i="get"+o,n="set"+o;a.http[i]=function(){return r(c,t)},a.http[n]=function(e){return s(c,t,e)},"headers"===t&&(a.http[n]=function(e){return c[t]=e?l.merge(c[t],e):void 0,!1})}),this.toast={__getDuration:function(){return r(t,"duration")},setDuration:function(e){return s(t,"duration",e)}},this.validation={__getRegExp:function(e){return r(o,e)},setRegExp:function(e,t){return s(o,e,t)}},this.$get=function(){return{http:this.http,toast:this.toast,validation:this.validation}}}),l.module("fc.loading",[]).constant("$fcLoadingConfig",{watches:{FC_LOADING:"fcLoading"},subscriptions:{show:"fc.loading.show",hide:"fc.loading.hide"},elements:{DIV:"div",SPAN:"span"},positions:{STATIC:"static",RELATIVE:"relative"},classNames:{container:"fc-loading--container",box:"fc-loading--box",item:"fc-loading--item"}}).service("$fc.loading",["$rootScope","$fcLoadingConfig"].concat(function(e,t){this.show=function(){e.$broadcast(t.subscriptions.show,!0)},this.hide=function(){e.$broadcast(t.subscriptions.hide,!0)}})).directive("fcLoading",["$fcLoadingConfig"].concat(function(c){var e={};function d(e,t){var o=window.getComputedStyle(e);return o.position===c.positions.STATIC&&(e.style.position=c.positions.RELATIVE),e.appendChild(t),o}return e[c.watches.FC_LOADING]="=",{restrict:"A",scope:e,link:function(e,t){var o,i,n,r=t[0],s=(o=document.createElement(c.elements.DIV),i=document.createElement(c.elements.DIV),n=document.createElement(c.elements.SPAN),o.className=c.classNames.container,i.className=c.classNames.box,n.className=c.classNames.item,i.appendChild(n),i.appendChild(n.cloneNode()),o.appendChild(i),o),a=d(r,s);e.$watch(c.watches.FC_LOADING,function(e){e?d(r,s):(r.style=a,r.removeChild(s))})}}})).directive("fcLoading",["$fcLoadingConfig"].concat(function(t){return{restrict:"E",replace:!0,template:'<div class="fc-loading" ng-show="loading" fc-loading="true"></div>',link:function(e){e.$on(t.subscriptions.show,function(){e.loading=!0}),e.$on(t.subscriptions.hide,function(){e.loading=!1})}}})),l.module("fc.modal",[]).constant("$fcModalConfig",{subscriptions:{SHOW:"fc.modal.show",HIDE:"fc.modal.hide"},classNames:{bodyHidden:"fc-modal-in-body__show",container:"fc-modal",box:"fc-modal--box",bg:"fc-modal--bg",modalActive:"fc-modal__active",boxActive:"fc-modal--box__active"}}).factory("$fc.modal",["$rootScope","$timeout","$fcModalConfig"].concat(function(o,i,n){return{show:function(e,t){if(!e)throw new Error("Error: param 'id' is required for method show of fcModal in fc.");i(function(){o.$broadcast(n.subscriptions.SHOW,{id:e,callback:t})},0)},hide:function(e,t){if(!e)throw new Error("Error: param 'id' is required for method hide of fcModal in fc.");return o.$broadcast(n.subscriptions.HIDE,{id:e,callback:t})}}})).directive("fcModal",["$timeout","$fcModalConfig"].concat(function(f,l){return{restrict:"E",replace:!0,transclude:!0,scope:!1,link:function(o,e,t,i,n){var r=document.body,s=e[0],a=e[0].firstChild,c="hidden"===window.getComputedStyle(r).overflow,d=t.id||null;if(!d)throw new Error("Error: property 'id' is required in fc-modal.");if(""===d||null===d)throw new Error("Error: property 'id' is empty in fc-modal.");if(o._ids=o._ids?o._ids:[],-1!==o._ids.indexOf(d))throw new Error("Error: property 'id' is unique but "+d+" is duplicated in fc-modal.");o._ids.push(d),n(o,function(e){for(var t=0;t<e.length;t++)1===e[t].nodeType&&a.appendChild(e[t])}),o.$on(l.subscriptions.SHOW,function(e,t){if(t){if(-1===o._ids.indexOf(t.id))throw new Error("Error: the modal "+t.id+" for showing is not found.");d===t.id&&(t&&t.callback&&t.callback(),r.className+=c?"":" "+l.classNames.bodyHidden,s.className+=" "+l.classNames.modalActive,f(function(){a.className+=" "+l.classNames.boxActive},200))}}),o.$on(l.subscriptions.HIDE,function(e,t){if(t){if(-1===o._ids.indexOf(t.id))throw new Error("Error: the modal "+t.id+" for hiding is not found.");d===t.id&&(a.className=a.className.replace(new RegExp("\\ "+l.classNames.boxActive,"g"),""),f(function(){s.className=s.className.replace(new RegExp("\\ "+l.classNames.modalActive,"g"),""),r.className=c?r.className:r.className.replace(new RegExp("\\ "+l.classNames.bodyHidden,"g"),""),t&&t.callback&&t.callback()},200))}})},template:'<div class="'+l.classNames.container+'"><div class="'+l.classNames.box+'"></div><div class="'+l.classNames.bg+'"></div></div>'}})),l.module("fc.toast",["fc.provider"]).constant("$fcToastConfig",{delayDuration:0,types:{ERROR:"error",INFO:"info",SUCCESS:"success"},subscriptions:{OPEN:"fc.toast.open",CLOSE:"fc.toast.close"},classNames:{container:"fc-toast",active:"fc-toast__active",types:{info:"fc-toast__info",error:"fc-toast__error",success:"fc-toast__success"},box:"fc-toast--box",content:"fc-toast--content"}}).factory("$fc.toast",["$rootScope","$timeout","$fcToastConfig","$fc"].concat(function(i,n,r,e){var s=e.toast.__getDuration();function o(e,t,o){n(function(){i.$broadcast(r.subscriptions.OPEN,{type:e||r.types.ERROR,message:t||"",duration:o||s})},r.delayDuration)}return{types:r.types,abort:function(){i.$broadcast(r.subscriptions.CLOSE,!0)},trigger:o,error:function(e,t){return o(r.types.ERROR,e,t||s)},info:function(e,t){return o(r.types.INFO,e,t||s)},success:function(e,t){return o(r.types.SUCCESS,e,t||s)}}})).directive("fcToast",["$rootScope","$timeout","$fcToastConfig"].concat(function(e,n,r){return{restrict:"E",replace:!0,scope:{},link:function(o){var i=null;o.$on(r.subscriptions.OPEN,function(e,t){t&&(o.visible=!0,o.message=t.message||"",o.type=t.type||r.types.ERROR,i&&n.cancel(i),i=n(function(){o.visible=!1},t.duration))}),o.$on(r.subscriptions.CLOSE,function(e,t){t&&(i&&n.cancel(i),o.visible=!1)})},template:'<div class="'+r.classNames.container+'"   ng-class="{ \''+r.classNames.active+"': visible,'"+r.classNames.types.success+"': type === '"+r.types.SUCCESS+"','"+r.classNames.types.error+"': type === '"+r.types.ERROR+"','"+r.classNames.types.info+"': type === '"+r.types.INFO+'\' }"><div class="'+r.classNames.box+'"><div class="'+r.classNames.content+'">{{message}}</div></div></div>'}})),l.module("fc.validation",["fc.provider"]).config(["$fcProvider",function(e){e.validation.setRegExp("mobile",/0?(13|14|15|17|18|19)[0-9]{9}/),e.validation.setRegExp("bankCardNo",/^([1-9])(\d{15}|\d{18})$/)}]).factory("$fc.validation",["$fc"].concat(function(e){function a(e,t){return{isError:!l.isUndefined(e)&&e,message:e?t:null}}return{run:function(n,e,r){var s=a();if(!e||!r)return s;if(!l.isArray(e))throw new TypeError("$fc.validation: props must be Array:[prop1, prop2, ...] type.");if(!l.isObject(r)||l.isArray(r))throw new TypeError("$fc.validation: rules must be Object:{ prop: Object } type.");return l.forEach([].concat(e).reverse(),function(o){if("string"==typeof o&&o in r){var i=n,e=o.split(".");if(l.forEach(e,function(e){if(l.isUndefined(i))return!1;i=i[e]}),l.isUndefined(i))throw new ReferenceError("$fc.validation: context."+o+" is undefined.");if(r[o].validate)switch(t=r[o].validate,Object.prototype.toString.call(t)){case"[object Function]":r[o].validate(i)||(s=a(!0,l.isArray(r[o].errorMessage)?r[o].errorMessage[0]:r[o].errorMessage));break;case"[object Array]":if(!l.isArray(r[o].errorMessage))throw new TypeError("$fc.validation: rules."+o+".errorMessage should be same with validate:Array in type.");if(r[o].validate.length!==r[o].errorMessage.length)throw new Error("$fc.validation: rules."+o+".errorMessage should be same with validate in length.");l.forEach(r[o].validate,function(e,t){if(!l.isFunction(e))throw new TypeError("$fc.validation: rules."+o+".validate["+t+"] is not a Function.");e(i)||(s=a(!0,r[o].errorMessage[t]))});break;default:throw new TypeError("$fc.validation: [validate] is just allowed to be Function or Array type.")}!r[o].isRequired||""!==i&&null!==i||(s=a(!0,r[o].emptyMessage))}var t}),s},regs:e.validation.__getRegExp()}})),l.module("fc.request",["fc.provider"]).service("$fc.http",["$http","$q","$fc"].concat(function(a,c,e){var d=["GET","DELETE","HEAD","POST","PUT","PATCH"],f=e.http.__getOptions();function i(e,t,o,i,n){var r=null,s=l.merge({},f,i||{});return-1!==d.slice(0,3).indexOf(e.toUpperCase())?r=a[e.toLowerCase()](t,{params:o||{},headers:s.headers,timeout:s.timeout,withCredentials:s.withCredentials}):-1!==d.slice(3).indexOf(e.toUpperCase())&&(r=a[e.toLowerCase()](t,o,{headers:s.headers,timeout:s.timeout,withCredentials:s.withCredentials})),r.then(function(e){return s.successCreator(e.data)}).catch(function(e){return n&&Date.now()-n>s.timeout?c.reject(l.merge({},{timeout:!0},s.errorCreator())):c.reject(s.errorCreator(e.data||{}))})}this.$get=function(e,t,o){return i(d[0],e,t,o,Date.now())},this.$delete=function(e,t,o){return i(d[1],e,t,o,Date.now())},this.$head=function(e,t,o){return i(d[2],e,t,o,Date.now())},this.$post=function(e,t,o){return i(d[3],e,t,o,Date.now())},this.$put=function(e,t,o){return i(d[4],e,t,o,Date.now())},this.$patch=function(e,t,o){return i(d[5],e,t,o,Date.now())}})),l.module("fc",["fc.provider","fc.loading","fc.modal","fc.toast","fc.validation","fc.request"])}(window.angular);
