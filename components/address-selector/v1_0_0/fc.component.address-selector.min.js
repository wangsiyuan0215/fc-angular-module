!function(n){"use strict";n.angular.module("AddressSelectorModule",[]).constant("$addressConfig",{unit:"px",tabItemSelector:".tabs--item"}).component("addressSelector",{bindings:{data:"<",initialLocation:"<",onClick:"&"},replace:!0,templateUrl:"./templates/address-selector.html",controllerAs:"as",controller:["$scope","$timeout","$addressConfig",function(t,e,o){function i(){return Array.prototype.slice.call(document.querySelectorAll(o.tabItemSelector),0);}function r(){a.viewportWidth=n.innerWidth||n.document.documentElement.clientWidth||n.document.body.clientWidth;}function c(t){return{left:function(n){return n.offsetLeft+o.unit;}(t),width:function(t){return n.getComputedStyle(t).width;}(t)};}var a=this,l=n.angular.element(n),d=n.innerWidth||n.document.documentElement.clientWidth||n.document.body.clientWidth;a.$onChanges=function(t){if("data"in t){var e=t.data.currentValue;a.max=n.angular.isArray(e)?e.length:0,a.data=n.angular.isArray(e)?e:[];}"initialLocation"in t&&(a.location=t.initialLocation.currentValue);},a.$onInit=function(){l.on("resize",r);},a.$postLink=function(){if(a.nextLocationIndex=a.location.length&&a.location.length-1||0,a.location.length)return e(function(){console.log(i()[a.location.length-1]),a.currentLineStyle=c(i()[a.location.length-1]);},0),!1;a.currentLineStyle=c(document.querySelector(".tabs--last"));},a.$onDestroy=function(){l.off("resize",r);},n.angular.extend(a,{max:0,data:[],location:[],nextLocationIndex:0,viewportWidth:d,currentLineStyle:{left:0,width:0},chooseThisInTabs:function(n,t){if(t===a.nextLocationIndex)return!1;a.nextLocationIndex=t,a.currentLineStyle=c(n.target);},chooseThisItemInPanel:function(n,t){a.location[a.nextLocationIndex]&&n.id!==a.location[a.nextLocationIndex].id&&(a.location.length=t+1),a.currentIndex=t,a.location[t]=n,"function"===typeof a.onClick&&a.onClick({location:a.location});}}),t.$watchCollection("as.data",function(t){if(console.log("as.data",t.length),a.max=n.angular.isArray(t)?t.length:0,a.data=n.angular.isArray(t)?t:[],!a.data.length)return a.nextLocationIndex=0,a.currentIndex=void 0,!1;e(function(){var n=i(),t=n.slice(-1)[0];a.currentIndex=void 0!==a.currentIndex?a.currentIndex:a.location.length-1;var e=a.location[a.currentIndex+1]?n[a.currentIndex+1]:a.currentIndex+1===a.max?n[a.currentIndex]:t;a.nextLocationIndex=a.currentIndex+1>=a.max?a.currentIndex:a.currentIndex+1,a.currentLineStyle=c(e);},0);},!0);}]});}(window);